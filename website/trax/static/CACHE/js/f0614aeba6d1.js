/*! jQuery Color v@2.1.2 http://github.com/jquery/jquery-color | jquery.org/license */(function(a,b){function m(a,b,c){var d=h[b.type]||{};return a==null?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function n(b){var c=f(),d=c._rgba=[];return b=b.toLowerCase(),l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i)return f=c[j](i),c[g[j].cache]=f[g[j].cache],d=c._rgba=f._rgba,!1}),d.length?(d.join()==="0,0,0,0"&&a.extend(d,k.transparent),c):k[b]}function o(a,b,c){return c=(c+1)%1,c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}var c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)",i.rgba=j.style.backgroundColor.indexOf("rgba")>-1,l(g,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b)return this._rgba=[null,null,null,null],this;if(c.jquery||c.nodeType)c=a(c).css(d),d=b;var i=this,j=a.type(c),o=this._rgba=[];d!==b&&(c=[c,d,e,h],j="array");if(j==="string")return this.parse(n(c)||k._default);if(j==="array")return l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)}),this;if(j==="object")return c instanceof f?l(g,function(a,b){c[b.cache]&&(i[b.cache]=c[b.cache].slice())}):l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if(a==="alpha"||c[a]==null)return;i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,!0)}),i[e]&&a.inArray(null,i[e].slice(0,3))<0&&(i[e][3]=1,d.from&&(i._rgba=d.from(i[e])))}),this},is:function(a){var b=f(a),c=!0,d=this;return l(g,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],l(e.props,function(a,b){if(g[b.idx]!=null)return c=g[b.idx]===f[b.idx],c})),c}),c},_space:function(){var a=[],b=this;return l(g,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();return c=c[e.cache],l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null)return;f===null?k[e]=g:(i.mod&&(g-f>i.mod/2?f+=i.mod:f-g>i.mod/2&&(f-=i.mod)),k[e]=m((g-f)*b+f,d))}),this[d](k)},blend:function(b){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});return c[3]===1&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return a==null&&(a=b>2?1:0),b&&b<3&&(a=Math.round(a*100)+"%"),a});return c[3]===1&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(d*255)),"#"+a.map(c,function(a){return a=(a||0).toString(16),a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;return g===f?k=0:b===f?k=60*(c-d)/h+360:c===f?k=60*(d-b)/h+120:k=60*(b-c)/h+240,h===0?l=0:j<=.5?l=h/i:l=h/(2-i),[Math.round(k)%360,l,j,e==null?1:e]},g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]},l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){i&&!this[h]&&(this[h]=i(this._rgba));if(c===b)return this[h].slice();var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();return l(g,function(a,b){var c=k[e==="object"?a:b.idx];c==null&&(c=n[b.idx]),n[b.idx]=m(c,b)}),j?(d=f(j(n)),d[h]=n,d):f(n)},l(g,function(b,e){if(f.fn[b])return;f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;return g==="undefined"?j:(g==="function"&&(f=f.call(this,j),g=a.type(f)),f==null&&e.empty?this:(g==="string"&&(k=d.exec(f),k&&(f=j+parseFloat(k[2])*(k[1]==="+"?1:-1))),i[e.idx]=f,this[h](i)))}})}),f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if(d!=="transparent"&&(a.type(d)!=="string"||(e=n(d)))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(j){}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(j){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=f(b.elem,c),b.end=f(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},f.hook(c),a.cssHooks.borderColor={expand:function(a){var b={};return l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);!function($){"use strict";var Combobox=function(element,options){this.options=$.extend({},$.fn.combobox.defaults,options);this.template=this.options.template||this.template
this.$source=$(element);this.$container=this.setup();this.$element=this.$container.find('input[type=text]');this.$target=this.$container.find('input[type=hidden]');this.$button=this.$container.find('.dropdown-toggle');this.$menu=$(this.options.menu).appendTo('body');this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.shown=false;this.selected=false;this.refresh();this.transferAttributes();this.listen();};Combobox.prototype={constructor:Combobox,setup:function(){var combobox=$(this.template());this.$source.before(combobox);this.$source.hide();return combobox;},disable:function(){this.$element.prop('disabled',true);this.$button.attr('disabled',true);this.disabled=true;this.$container.addClass('combobox-disabled');},enable:function(){this.$element.prop('disabled',false);this.$button.attr('disabled',false);this.disabled=false;this.$container.removeClass('combobox-disabled');},parse:function(){var that=this,map={},source=[],selected=false,selectedValue='';this.$source.find('option').each(function(){var option=$(this);if(option.val()===''){that.options.placeholder=option.text();return;}
map[option.text()]=option.val();source.push(option.text());if(option.prop('selected')){selected=option.text();selectedValue=option.val();}})
this.map=map;if(selected){this.$element.val(selected);this.$target.val(selectedValue);this.$container.addClass('combobox-selected');this.selected=true;}
return source;},transferAttributes:function(){this.options.placeholder=this.$source.attr('data-placeholder')||this.options.placeholder
if(this.options.appendId!=="undefined"){this.$element.attr('id',this.$source.attr('id')+this.options.appendId);}
this.$element.attr('placeholder',this.options.placeholder)
this.$target.prop('name',this.$source.prop('name'))
this.$target.val(this.$source.val())
this.$source.removeAttr('name')
this.$element.attr('required',this.$source.attr('required'))
this.$element.attr('rel',this.$source.attr('rel'))
this.$element.attr('title',this.$source.attr('title'))
this.$element.attr('class',this.$source.attr('class'))
this.$element.attr('tabindex',this.$source.attr('tabindex'))
this.$source.removeAttr('tabindex')
if(this.$source.attr('disabled')!==undefined)
this.disable();},select:function(){var val=this.$menu.find('.active').attr('data-value');this.$element.val(this.updater(val)).trigger('change');this.$target.val(this.map[val]).trigger('change');this.$source.val(this.map[val]).trigger('change');this.$container.addClass('combobox-selected');this.selected=true;return this.hide();},updater:function(item){return item;},show:function(){var pos=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:pos.top+pos.height,left:pos.left}).show();$('.dropdown-menu').on('mousedown',$.proxy(this.scrollSafety,this));this.shown=true;return this;},hide:function(){this.$menu.hide();$('.dropdown-menu').off('mousedown',$.proxy(this.scrollSafety,this));this.$element.on('blur',$.proxy(this.blur,this));this.shown=false;return this;},lookup:function(event){this.query=this.$element.val();return this.process(this.source);},process:function(items){var that=this;items=$.grep(items,function(item){return that.matcher(item);})
items=this.sorter(items);if(!items.length){return this.shown?this.hide():this;}
return this.render(items.slice(0,this.options.items)).show();},template:function(){if(this.options.bsVersion=='2'){return'<div class="combobox-container"><input type="hidden" /> <div class="input-append"> <input type="text" autocomplete="false" /> <span class="add-on dropdown-toggle" data-dropdown="dropdown"> <span class="caret"/> <i class="icon-remove"/> </span> </div> </div>'}else{return'<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="false" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>'}},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase());},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item;while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase())){beginswith.push(item);}
else if(~item.indexOf(this.query)){caseSensitive.push(item);}
else{caseInsensitive.push(item);}}
return beginswith.concat(caseSensitive,caseInsensitive);},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&');return item.replace(new RegExp('('+query+')','ig'),function($1,match){return'<strong>'+match+'</strong>';})},render:function(items){var that=this;items=$(items).map(function(i,item){i=$(that.options.item).attr('data-value',item);i.find('a').html(that.highlighter(item));return i[0];})
items.first().addClass('active');this.$menu.html(items);return this;},next:function(event){var active=this.$menu.find('.active').removeClass('active'),next=active.next();if(!next.length){next=$(this.$menu.find('li')[0]);}
next.addClass('active');},prev:function(event){var active=this.$menu.find('.active').removeClass('active'),prev=active.prev();if(!prev.length){prev=this.$menu.find('li').last();}
prev.addClass('active');},toggle:function(){if(!this.disabled){if(this.$container.hasClass('combobox-selected')){this.clearTarget();this.triggerChange();this.clearElement();}else{if(this.shown){this.hide();}else{this.clearElement();this.lookup();}}}},scrollSafety:function(e){if(e.target.tagName=='UL'){this.$element.off('blur');}},clearElement:function(){this.$element.val('').focus();},clearTarget:function(){this.$source.val('');this.$target.val('');this.$container.removeClass('combobox-selected');this.selected=false;},triggerChange:function(){this.$source.trigger('change');},refresh:function(){this.source=this.parse();this.options.items=this.source.length;},listen:function(){this.$element.on('focus',$.proxy(this.focus,this)).on('blur',$.proxy(this.blur,this)).on('keypress',$.proxy(this.keypress,this)).on('keyup',$.proxy(this.keyup,this));if(this.eventSupported('keydown')){this.$element.on('keydown',$.proxy(this.keydown,this));}
this.$menu.on('click',$.proxy(this.click,this)).on('mouseenter','li',$.proxy(this.mouseenter,this)).on('mouseleave','li',$.proxy(this.mouseleave,this));this.$button.on('click',$.proxy(this.toggle,this));},eventSupported:function(eventName){var isSupported=eventName in this.$element;if(!isSupported){this.$element.setAttribute(eventName,'return;');isSupported=typeof this.$element[eventName]==='function';}
return isSupported;},move:function(e){if(!this.shown){return;}
switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();this.fixMenuScroll();break;case 40:e.preventDefault();this.next();this.fixMenuScroll();break;}
e.stopPropagation();},fixMenuScroll:function(){var active=this.$menu.find('.active');if(active.length){var top=active.position().top;var bottom=top+active.height();var scrollTop=this.$menu.scrollTop();var menuHeight=this.$menu.height();if(bottom>menuHeight){this.$menu.scrollTop(scrollTop+bottom-menuHeight);}else if(top<0){this.$menu.scrollTop(scrollTop+top);}}},keydown:function(e){this.suppressKeyPressRepeat=~$.inArray(e.keyCode,[40,38,9,13,27]);this.move(e);},keypress:function(e){if(this.suppressKeyPressRepeat){return;}
this.move(e);},keyup:function(e){switch(e.keyCode){case 40:if(!this.shown){this.toggle();}
break;case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return;}
this.select();break;case 27:if(!this.shown){return;}
this.hide();break;default:this.clearTarget();this.lookup();}
e.stopPropagation();e.preventDefault();},focus:function(e){this.focused=true;},blur:function(e){var that=this;this.focused=false;var val=this.$element.val();if(!this.selected&&val!==''){this.$element.val('');this.$source.val('').trigger('change');this.$target.val('').trigger('change');}
if(!this.mousedover&&this.shown){setTimeout(function(){that.hide();},200);}},click:function(e){e.stopPropagation();e.preventDefault();this.select();this.$element.focus();},mouseenter:function(e){this.mousedover=true;this.$menu.find('.active').removeClass('active');$(e.currentTarget).addClass('active');},mouseleave:function(e){this.mousedover=false;}};$.fn.combobox=function(option){return this.each(function(){var $this=$(this),data=$this.data('combobox'),options=typeof option=='object'&&option;if(!data){$this.data('combobox',(data=new Combobox(this,options)));}
if(typeof option=='string'){data[option]();}});};$.fn.combobox.defaults={bsVersion:'3',menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};$.fn.combobox.Constructor=Combobox;}(window.jQuery);var laptimetable;var vehicletable;var vehiclelaptimetable;$(document).ready(function(){vehicletable=$('#vehicletable').DataTable({order:[[0,"asc"]],lengthMenu:[[50,100,10000],[50,100,'all']],});$('#vehicletable tbody').on('click','tr.group',function(){var currentOrder=table.order()[0];if(currentOrder[0]===1&&currentOrder[1]==='asc'){table.order([1,'desc']).draw();}
else{table.order([1,'asc']).draw();}});laptimetable=$('#laptimetable').DataTable({ajax:"laptimes.json",columns:[{data:"vehicle"},{data:{_:"duration.display",sort:"duration.millis"}},{data:"name"},{data:{_:"date.display",sort:"date.timestamp"}}],"deferRender":true});vehiclelaptimetable=$('#vehiclelaptimetable').DataTable({order:[[0,"asc"]],lengthMenu:[[50,100,10000],[50,100,'all']],});$('#loginreg').on('fadeout',function(){$(this).fadeTo("slow",0.1,function(){$(this).trigger('fadein');});});$('#loginreg').on('fadein',function(){$(this).fadeTo("slow",1,function(){$(this).delay(500).trigger('fadeout');});});$('#loginreg').trigger('fadeout');$('.combobox').combobox({bsVersion:'3'});});function convert_from_laptime_to_cc_millis(){"use strict";var value=$("#calc_laptime").val();if(value.indexOf(":")>-1){var items=value.split(":");var millis=parseFloat(items[0])*60+parseFloat(items[1]);}else{var millis=parseFloat(value);}
millis=millis/2.59*1000.0;$("#calc_millis").val(Math.round(millis));}